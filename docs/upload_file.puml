@startuml upload_file

title Uploading a File Flow

actor "User" as user
participant "Appointment Service" as appointment_service
collections "File Storage" as file_storage
participant "Database" as database

note over user
In this example, the user must
be a **patient**.
end note

user -> appointment_service: POST /files\n(Bearer JWT)

activate appointment_service
appointment_service -> appointment_service: Validate the file\ndetails
appointment_service -> file_storage: Upload the file
file_storage --> appointment_service: Returns the file URL
appointment_service -> database: Store the file details
database --> appointment_service: File stored
appointment_service --> user: 201 Created
deactivate appointment_service

@enduml